#! /bin/bash

source ~/.bashrc

start_time=$(date +%s)
cmd=$@
$cmd
exit_status=$?
exec_time=$(($(date +%s) - $start_time))

# We only send notifications when the command takes at least 5 seconds.
if [ $exec_time -ge 5 ]; then
  if [ $? -eq 0 ]; then
    nohup notify-send -t 2000 "Success" "$cmd" > /dev/null 2>/dev/null &
  else
    nohup notify-send -t 2000 "Failure" "$cmd" > /dev/null 2>/dev/null &
  fi
fi
exit $exit_status
